import{_ as e,c as d,o as l,ae as a}from"./chunks/framework.DqA2quMh.js";const y=JSON.parse('{"title":"操作类型指令","description":"","frontmatter":{},"headers":[],"relativePath":"bytecode/vm_table_opt.md","filePath":"bytecode/vm_table_opt.md"}'),o={name:"bytecode/vm_table_opt.md"};function i(r,t,s,c,n,g){return l(),d("div",null,[...t[0]||(t[0]=[a('<h1 id="操作类型指令" tabindex="-1">操作类型指令 <a class="header-anchor" href="#操作类型指令" aria-label="Permalink to &quot;操作类型指令&quot;">​</a></h1><p>包含了变量表, 操作栈控制与 <code>PC</code> 指令计数器控制的指令</p><h2 id="其他操作" tabindex="-1">其他操作 <a class="header-anchor" href="#其他操作" aria-label="Permalink to &quot;其他操作&quot;">​</a></h2><table tabindex="0"><thead><tr><th style="text-align:right;">操作码助记符</th><th style="text-align:left;">操作数</th><th style="text-align:left;">功能</th></tr></thead><tbody><tr><td style="text-align:right;"><code>push</code></td><td style="text-align:left;"><code>usize_t</code>: 常量表索引</td><td style="text-align:left;">将常量表元素压入操作栈</td></tr><tr><td style="text-align:right;"><code>call</code></td><td style="text-align:left;">无操作数</td><td style="text-align:left;">栈顶提取引用并发送函数调用请求</td></tr><tr><td style="text-align:right;"><code>nol</code></td><td style="text-align:left;">无操作数</td><td style="text-align:left;">空操作 (仅增加 PC 计数)</td></tr><tr><td style="text-align:right;"><code>return</code></td><td style="text-align:left;">无操作数</td><td style="text-align:left;">终止当前栈帧执行并提取栈顶元素返回到父栈帧操作栈</td></tr></tbody></table><h2 id="变量表操作" tabindex="-1">变量表操作 <a class="header-anchor" href="#变量表操作" aria-label="Permalink to &quot;变量表操作&quot;">​</a></h2><table tabindex="0"><thead><tr><th style="text-align:right;">操作码助记符</th><th style="text-align:left;">操作数</th><th style="text-align:left;">功能</th></tr></thead><tbody><tr><td style="text-align:right;"><code>load</code></td><td style="text-align:left;"><code>usize_t</code>: 变量表索引</td><td style="text-align:left;">将栈顶元素加载到指定局部变量表槽位</td></tr><tr><td style="text-align:right;"><code>store</code></td><td style="text-align:left;"><code>usize_t</code>: 变量表索引</td><td style="text-align:left;">将局部变量加载到栈顶</td></tr><tr><td style="text-align:right;"><code>load_global</code></td><td style="text-align:left;"><code>usize_t</code>: 变量表索引</td><td style="text-align:left;">将栈顶元素加载到指定全局变量表槽位</td></tr><tr><td style="text-align:right;"><code>store_global</code></td><td style="text-align:left;"><code>usize_t</code>: 变量表索引</td><td style="text-align:left;">将全局变量加载到栈顶</td></tr><tr><td style="text-align:right;"><code>load_array_global</code></td><td style="text-align:left;"><code>usize_t</code>: 变量表索引 <br> <code>usize_t</code>: 提取长度</td><td style="text-align:left;">将指定栈顶元素以数组形式加载到全局变量表</td></tr><tr><td style="text-align:right;"><code>load_array</code></td><td style="text-align:left;"><code>usize_t</code>: 变量表索引 <br> <code>usize_t</code>: 提取长度</td><td style="text-align:left;">将指定栈顶元素以数组形式加载到局部变量表</td></tr><tr><td style="text-align:right;"><code>set_array_global</code></td><td style="text-align:left;"><code>usize_t</code> : 变量表索引</td><td style="text-align:left;">提取栈顶赋值元素和数组索引, 赋值到全局变量</td></tr><tr><td style="text-align:right;"><code>set_array</code></td><td style="text-align:left;"><code>usize_t</code> : 变量表索引</td><td style="text-align:left;">提取栈顶赋值元素和数组索引, 赋值到局部变量</td></tr></tbody></table><h2 id="跳转指令" tabindex="-1">跳转指令 <a class="header-anchor" href="#跳转指令" aria-label="Permalink to &quot;跳转指令&quot;">​</a></h2><p>跳转指令的 <code>pc</code> 计数全部为绝对计数值, 不为指令偏移. <br> 所有跳转只能在当前栈帧进行, 跨栈帧需要 <code>call</code> <code>return</code> 指令.</p><table tabindex="0"><thead><tr><th style="text-align:right;">操作码助记符</th><th style="text-align:left;">操作数</th><th style="text-align:left;">功能</th></tr></thead><tbody><tr><td style="text-align:right;"><code>jump</code></td><td style="text-align:left;"><code>usize_t</code>: pc计数</td><td style="text-align:left;">无条件跳转到指定位置</td></tr><tr><td style="text-align:right;"><code>jump_false</code></td><td style="text-align:left;"><code>usize_t</code>: pc计数</td><td style="text-align:left;">栈顶条件为假跳转</td></tr></tbody></table>',9)])])}const x=e(o,[["render",i]]);export{y as __pageData,x as default};
