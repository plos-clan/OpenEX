import{_ as i,c as a,o as e,ae as n}from"./chunks/framework.DqA2quMh.js";const o=JSON.parse('{"title":"扩展交互接口 CFFI","description":"","frontmatter":{},"headers":[],"relativePath":"api/cffi.md","filePath":"api/cffi.md"}'),l={name:"api/cffi.md"};function p(t,s,h,k,r,d){return e(),a("div",null,[...s[0]||(s[0]=[n(`<h1 id="扩展交互接口-cffi" tabindex="-1">扩展交互接口 CFFI <a class="header-anchor" href="#扩展交互接口-cffi" aria-label="Permalink to &quot;扩展交互接口 CFFI&quot;">​</a></h1><p>用于向其他程序提供对 OpenEX 的控制接口, 使 OpenEX 作为一个小型脚本解释器嵌入进其他程序中.</p><blockquote><p>该库并不是为 OpenEX 脚本源码提供的, 适用于作为动态链接库形式存在的 OpenEX 解释器 <br> 在接口的参数无明确说明可以为空的情况下, 接口参数不得为空, 否则返回 <code>FfiError</code></p></blockquote><div class="warning custom-block"><p class="custom-block-title">线程安全</p><p>所有的 <code>CFFI</code> 交互接口都不是线程安全的, 您需要自行保证调用的同步性.</p></div><h2 id="句柄数据结构" tabindex="-1">句柄数据结构 <a class="header-anchor" href="#句柄数据结构" aria-label="Permalink to &quot;句柄数据结构&quot;">​</a></h2><ul><li>状态枚举, 用于返回 OpenEX 各 cffi 交互接口的处理状态.</li></ul><div class="language-C vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">C</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typedef</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> enum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Success </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 成功</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ParseError </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 编译器编译错误</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    RuntimeError </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 解释器运行时异常</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    FfiError </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // FFI 接口交互异常</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} OpenExStatus;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><br><ul><li>OpenEX CFFI 交互接口值传递</li></ul><div class="language-C vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">C</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typedef</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> enum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Int </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   // OpenEX 整型 (int64_t)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Bool </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // OpenEX 布尔型 (int ? 1 : 0)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Float </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // OpenEX 浮点型 (double, float_64)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    String </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// OpenEX 字符串 (char*)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Ref </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   // OpenEX 调用引用 (char*)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Null </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   // OpenEX 空值</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} ValueTag;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typedef</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> union</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    int64_t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    double</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> f;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> char*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} ValueData;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 因 OpenEX 是动态类型, 故会有统一交互结构体表示所有类型</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typedef</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ValueTag tag;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ValueData data;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} CValue;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><br><ul><li>交互句柄, 该句柄不应被修改内部任何字段, 仅递交给 OpenEX 交互接口.</li></ul><div class="language-C vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">C</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typedef</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> OpenEX OpenEX;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="openex-init" tabindex="-1">openex_init <a class="header-anchor" href="#openex-init" aria-label="Permalink to &quot;openex_init&quot;">​</a></h2><p>用于初始化一个 OpenEX 前端编译器环境, 该函数调用过程会同时编译 OpenEX 标准库.</p><ul><li><code>lib_path</code> - 指定 OpenEX 标准库文件夹.</li></ul><blockquote><p>为空时以当前程序工作目录为基准查找 lib 文件夹作为 OpenEX 标准库所在文件夹加载</p></blockquote><ul><li><code>return</code> - 返回一个交互实例句柄</li></ul><blockquote><p>返回值为空代表加载失败.</p></blockquote><div class="language-c vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">OpenEX</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> openex_init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> char*</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> lib_path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="openex-add-file" tabindex="-1">openex_add_file <a class="header-anchor" href="#openex-add-file" aria-label="Permalink to &quot;openex_add_file&quot;">​</a></h2><p>向指定 OpenEX 交互实例递交一个源文件</p><ul><li><code>handle</code> - 交互实例</li><li><code>code</code> - 源文件的文本形式源码, 支持 utf-8</li><li><code>name</code> - 源文件的文件名 (必须包含后缀名, 否则触发未定义行为)</li><li><code>return</code> - 返回源文件的添加状态</li></ul><blockquote><p>文件名用于表示后续的其他脚本以何种名称导入该脚本</p></blockquote><div class="language-c vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">OpenExStatus </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openex_add_file</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(OpenEX</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> handle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> char*</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> code</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> char*</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="openex-compile" tabindex="-1">openex_compile <a class="header-anchor" href="#openex-compile" aria-label="Permalink to &quot;openex_compile&quot;">​</a></h2><p>启动指定 OpenEX 交互实例的编译.</p><ul><li><code>handle</code> - 交互实例</li><li><code>return</code> - 会依照情况返回 <code>Success</code> <code>ParserError</code> <code>FfiError</code> 三种状态</li></ul><div class="language-c vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">OpenExStatus </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openex_compile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(OpenEX</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> handle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="openex-initialize-executor" tabindex="-1">openex_initialize_executor <a class="header-anchor" href="#openex-initialize-executor" aria-label="Permalink to &quot;openex_initialize_executor&quot;">​</a></h2><p>初始化解释器与启动执行引擎.</p><div class="warning custom-block"><p class="custom-block-title">注意</p><p>不得在解释器启动后再次调用 <code>openex_add_file</code> 和 <code>openex_compile</code> 函数, 再次调用添加的源文件不会被解释器识别.</p><p>以及本函数每一个交互实例只能调用一次, 多次调用会发生未定义行为.</p></div><ul><li><code>handle</code> - 交互实例</li><li><code>return</code> - 返回初始化的情况, 不为 <code>Success</code> 代表启动失败</li></ul><div class="language-c vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">OpenExStatus </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openex_initialize_executor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(OpenEX</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> handle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="openex-call-function" tabindex="-1">openex_call_function <a class="header-anchor" href="#openex-call-function" aria-label="Permalink to &quot;openex_call_function&quot;">​</a></h2><p>调用指定脚本中的指定函数.</p><blockquote><p>该函数执行 OpenEX 函数是同步的, 在脚本函数执行完毕前该函数不会返回 <br> 但是由脚本内部函数创建的异步线程不会影响该函数的返回.</p></blockquote><ul><li><code>handle</code> - 交互实例</li><li><code>file</code> - 调用的脚本名 (不需要后缀名, 以 <code>import</code> 语句导入名为准)</li><li><code>func</code> - 函数名</li><li><code>args_ptr</code> - 参数数组 (无参数传递该数组的数据为空但是指针不得为空)</li><li><code>arg_count</code> - 参数的个数</li><li><code>out_result</code> - 指针为空代表不接受返回值, 否则 OpenEX 会向该指针写入本次调用的返回值</li></ul><blockquote><p>指针内部数据需要清理, 因为当本次调用的函数没有主动返回值时, 该指针不会被写入任何数据</p></blockquote><ul><li><code>return</code> - 会依照情况返回 <code>Success</code> <code>RuntimeError</code> <code>FfiError</code> 三种状态</li></ul><div class="language-c vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">OpenExStatus </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openex_call_function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(OpenEX</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> handle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> char*</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> file</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> char*</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, CValue</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> args_ptr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">size_t</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> arg_count</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, CValue</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> out_result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="openex-free-c-value" tabindex="-1">openex_free_c_value <a class="header-anchor" href="#openex-free-c-value" aria-label="Permalink to &quot;openex_free_c_value&quot;">​</a></h2><p>释放掉 OpenEX 值传递句柄的占用.</p><blockquote><p>该函数用于释放掉句柄内部包装的字符串/引用等对象内存占用, 不会释放句柄本身</p></blockquote><ul><li><code>c_val</code> - 占用的句柄</li><li><code>return</code> - 释放的结果状态</li></ul><div class="language-c vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">OpenExStatus </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openex_free_c_value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(CValue</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> c_val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="warning custom-block"><p class="custom-block-title">不安全的悬垂指针</p><p>如果解释器正在使用这个句柄对象 (比如 call_function 正在运行或解释器其他线程正在使用该句柄) <br> 调用该函数进行释放会导致解释器内部发生悬垂引用, 最终导致整个应用程序崩溃.</p></div><h2 id="openex-free" tabindex="-1">openex_free <a class="header-anchor" href="#openex-free" aria-label="Permalink to &quot;openex_free&quot;">​</a></h2><p>释放 OpenEX 交互实例并终止解释器.</p><blockquote><p>不建议在其他 <code>call_function</code> 运行的过程中调用该函数.</p></blockquote><ul><li><code>handle</code> - 交互句柄</li><li><code>return</code> - 终止后的状态, 不为 <code>Success</code> 代表解释器终止失败</li></ul><blockquote><p>终止失败默认解释器的所属的异步线程仍在运行</p></blockquote><div class="language-c vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">OpenExStatus </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openex_free</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(OpenEX</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> handle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">终止行为</p><p>调用 <code>openex</code> 函数时会发生以下行为</p><ol><li>该函数会首先终止所有由该交互实例创建的所有解释器异步线程.</li><li>然后释放掉交互实例内部执行引擎与前端编译器占用的资源.</li><li>最后会释放掉句柄本身.</li></ol></div>`,54)])])}const E=i(l,[["render",p]]);export{o as __pageData,E as default};
